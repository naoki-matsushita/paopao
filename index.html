<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>テンプレート</title>
<link href="../../_common/images/favicon.ico" rel="shortcut icon">
<link href="https://fonts.googleapis.com/css?family=M+PLUS+1p:400,500" rel="stylesheet">
<link href="../../_common/css/style.css" rel="stylesheet">
</head>
<body>
<header>
<div class="container">
<h1>タイトル</h1>
<h2>サブタイトル</h2>
</div><!-- /.container -->
</header>
<main>
<div class="container">
<section>
<p>知ってました？<br>
<!--2025年大阪万博まで</p>-->
<!--  <p>あと<span id="day"></span>日<span id="hour"></span>時間<span id="min"></span>分<span id="sec"></span>秒</p> -->
<p id="output"></p>
</section>
</div><!-- /.container -->
</main>
<footer>
<div class="container">
<p>JavaScript Samples</p>
</div><!-- /.container -->
</footer>
<script>
'use strict';

function countdown(){
    let goal = new Date();
    goal.setHours(23);
    goal.setMinutes(59);
    goal.setSeconds(59);

    //let goal = new Date(2025,4,3);
    let now = new Date();
    let nokori = goal.getTime() - now.getTime();
    let sec = Math.floor(nokori / 1000) % 60;
    let min = Math.floor(nokori / 1000 / 60) % 60;
    let hour = Math.floor(nokori / 1000 / 60 / 60) % 24;

    document.getElementById('output').textContent = `0時まで、あと${hour}時間${String(min).padStart(2,'0')}分${String(sec).padStart(2,'0')}秒`;
    recalc();
}

countdown();

function recalc(){
    setTimeout(countdown,1000)
}

/*function countdown(due){
    const now = new Date();
    const rest = due.getTime()- now.getTime();
    const sec = Math.floor(rest / 1000) % 60;
    const min = Math.floor(rest / 1000 / 60) % 60;
    const hours = Math.floor(rest / 1000 / 60 / 60) % 24;
    const days = Math.floor(rest / 1000 / 60 / 60 / 24);
    const count = [days,hours,min,sec];
    
    return count;
}
let goal = new Date();
goal.setHours(23);
goal.setMinutes(59);
goal.setSeconds(59);
console.log(countdown(goal));


function countdown(due){
    const now = new Date();
    const rest = due.getTime() - now.getTime();
    const sec = Math.floor(rest / 1000) % 60;
    const min = Math.floor(rest / 1000 / 60) % 60;
    const hour = Math.floor(rest / 1000 / 60 / 60) % 24;
    const day = Math.floor(rest / 1000 / 60 / 60 / 24);
    const count = [day,hour,min,sec];
    return count;
}
let future = new Date(2025,4,3);
//future.setHours(23);
//future.setMinutes(59);
//future.setSeconds(59);
console.log(countdown(future));

function recalc(){
let time = countdown(future);
//console.log(time);

//document.getElementById('output').textContent = `${time[0]}時間${time[1]}分${time[2]}秒`;
document.getElementById('day').textContent = time[0];
document.getElementById('hour').textContent = time[1];
document.getElementById('min').textContent = String(time[2]).padStart(2,0);
document.getElementById('sec').textContent = String(time[3]).padStart(2,0);
refresh();
}

function refresh(){
    setTimeout(recalc,1000);
}

recalc();
*/
</script>
</body>
</html>
